angular.module("iui.alertModule",["iui.alertTemplates","iui.alerts"]);var iuiAlertsModule=angular.module("iui.alerts",["iui.toTrusted"]);iuiAlertsModule.directive("iuiAlertPlaceholder",["iuiAlertService","iuiAlertsConfig","iuiAlertLabels",function(iuiAlertService,iuiAlertsConfig,iuiAlertLabels){"use strict";return{restrict:"E",scope:{},templateUrl:"/$iui-alerts/alerts/iui-alert-placeholder.html",link:function(scope,element,attrs){var alertId=attrs.id;scope.iuiAlertsConfig=iuiAlertsConfig,scope.iuiAlertLabels=iuiAlertLabels,scope.placementAlerts=iuiAlertService.getCurrent(alertId),scope.closeAlert=function(){iuiAlertService.closeAlert(alertId)}}}}]),iuiAlertsModule.factory("iuiAlertService",["$timeout","iuiAlertsConfig",function(timeout,iuiAlertsConfig){"use strict";var defaultTimeOut=iuiAlertsConfig.defaultTimeOut,placements={},DEFAULT_PLACEMENT=iuiAlertsConfig.defaultPlacement;return{getCurrent:function(id){return placements[id]||(placements[id]={}),placements[id||DEFAULT_PLACEMENT]||{}},add:function(placement,alertObject){var type=alertObject.type,message=alertObject.message,activeFor=alertObject.activeFor||0,callback=alertObject.callback,canClose=alertObject.canClose;placement=placement||DEFAULT_PLACEMENT;var currentPlacement=placements[placement];currentPlacement||(currentPlacement=placements[placement]={}),"danger"===type&&(activeFor=0),currentPlacement.callback=callback,currentPlacement.alert={type:type,message:message,placement:placement,activeFor:activeFor,canClose:canClose,close:function(){return asvc.closeAlert()}},currentPlacement.promise&&timeout.cancel(currentPlacement.promise),0!==activeFor&&(currentPlacement.promise=timeout(function(){currentPlacement.alert={},currentPlacement.callback&&currentPlacement.callback()},void 0!==activeFor?activeFor:defaultTimeOut))},closeAlert:function(id){var placement=this.getCurrent(id);placement.alert={},timeout.cancel(placement.promise),placement.callback&&placement.callback()},clearAll:function(){_.each(placements,function(placement){placement.alert={},timeout.cancel(placement.promise)})},clear:function(id){if(id){var current=this.getCurrent(id);if(!current)return;current.alert={},timeout.cancel(current.promise)}else this.clearAll()}}}]),iuiAlertsModule.value("iuiAlertLabels",{close:"Close"}).constant("iuiAlertsConfig",{defaultAlertTemplate:"/$iui-alerts/alerts/iui-default-alert.html",defaultTimeOut:2e4,defaultPlacement:"alert_appTop"}),angular.module("iui.toTrusted",[]).filter("to_trusted",["$sce",function($sce){"use strict";return function(text){return $sce.trustAsHtml(text)}}]),function(module){try{module=angular.module("iui.alertTemplates")}catch(e){module=angular.module("iui.alertTemplates",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("/$iui-alerts/alerts/iui-alert-placeholder.html",'<div \n  ng-if="placementAlerts.alert.message" \n  class="alert-wrapper"\n  ng-include="placementAlerts.alert.template || iuiAlertsConfig.defaultAlertTemplate">\n</div>')}])}(),function(module){try{module=angular.module("iui.alertTemplates")}catch(e){module=angular.module("iui.alertTemplates",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("/$iui-alerts/alerts/iui-default-alert.html",'<div \n  class="alert alert-{{placementAlerts.alert.type}}" \n  role="alert">\n  <span \n    class="alert-message" \n    ng-bind-html="placementAlerts.alert.message | to_trusted">\n  </span>\n  <button \n    ng-if="placementAlerts.alert.canClose"\n    type="button" \n    class="close" \n    aria-label="{{iuiAlertLabels.close}}" \n    ng-click="closeAlert()">\n    <span aria-hidden="true">&times;</span>\n  </button>\n</div>')}])}();